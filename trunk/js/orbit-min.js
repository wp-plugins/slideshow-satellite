(function(a){var b={defaults:{animation:"horizontal-push",animationSpeed:600,timer:true,advanceSpeed:4e3,pauseOnHover:false,startClockOnMouseOut:false,startClockOnMouseOutAfter:1e3,directionalNav:true,captions:true,captionAnimation:"fade",captionAnimationSpeed:600,captionHover:false,bullets:false,bulletThumbs:false,bulletThumbLocation:"",afterSlideChange:a.noop,centerBullets:true,thumbWidth:80},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',wrapThumbHTML:'<div class="thumbholder" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>',directionalThumbHTML:'<span id="slideleft">Left</span><span id="slideright">Right</span>',bulletHTML:'<ul class="orbit-bullets"></ul>',thumbHTML:'<ul class="orbit-thumbnails"></ul>',init:function(b,c){var d,e=0,f=this;this.clickTimer=a.proxy(this.clickTimer,this);this.addBullet=a.proxy(this.addBullet,this);this.resetAndUnlock=a.proxy(this.resetAndUnlock,this);this.stopClock=a.proxy(this.stopClock,this);this.startTimerAfterMouseLeave=a.proxy(this.startTimerAfterMouseLeave,this);this.clearClockMouseLeaveTimer=a.proxy(this.clearClockMouseLeaveTimer,this);this.rotateTimer=a.proxy(this.rotateTimer,this);this.options=a.extend({},this.defaults,c);if(this.options.timer==="false")this.options.timer=false;if(this.options.captions==="false")this.options.captions=false;if(this.options.directionalNav==="false")this.options.directionalNav=false;this.$element=a(b);this.$wrapper=this.$element.wrap(this.wrapperHTML).parent();this.$slides=this.$element.children("img, a, div");d=this.$slides.filter("img");if(d.length===0){this.loaded()}else{d.bind("imageready",function(){e+=1;if(e===d.length){f.loaded()}})}},loaded:function(){this.$element.addClass("orbit").width("1px");this.setDimentionsFromLargestSlide(this.options.bullets,this.options.thumbWidth);this.updateOptionsIfOnlyOneSlide();this.setupFirstSlide();if(this.options.timer){this.setupTimer();this.startClock()}if(this.options.captions){this.setupCaptions()}if(this.options.directionalNav){this.setupDirectionalNav()}if(this.options.bullets){this.setupBulletNav();this.setActiveBullet()}if(this.options.bulletThumbs&&this.options.bullets){this.setupDirectionalThumb(this.options.thumbWidth)}},currentSlide:function(){return this.$slides.eq(this.activeSlide)},setDimentionsFromLargestSlide:function(b,c){var d=this;this.$slides.each(function(){var b=a(this),c=b.width(),e=b.height();if(c>d.$element.width()){d.$element.add(d.$wrapper).width(c);d.orbitWidth=d.$element.width()}if(e>d.$element.height()){d.orbitHeight=e}d.numberSlides+=1})},lock:function(){this.locked=true},unlock:function(){this.locked=false},updateOptionsIfOnlyOneSlide:function(){if(this.$slides.length===1){this.options.directionalNav=false;this.options.timer=false;this.options.bullets=false}},setupFirstSlide:function(){var a=this;this.$slides.first().css({"z-index":3}).fadeIn(function(){a.$slides.css({display:"block"})})},startClock:function(){var a=this;if(!this.options.timer){return false}if(this.$timer.is(":hidden")){this.clock=setInterval(function(){a.shift("next")},this.options.advanceSpeed)}else{this.timerRunning=true;this.$pause.removeClass("active");this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180)}},rotateTimer:function(){var a="rotate("+this.degrees+"deg)";this.degrees+=2;this.$rotator.css({"-webkit-transform":a,"-moz-transform":a,"-o-transform":a});if(this.degrees>180){this.$rotator.addClass("move");this.$mask.addClass("move")}if(this.degrees>360){this.$rotator.removeClass("move");this.$mask.removeClass("move");this.degrees=0;this.shift("next")}},stopClock:function(){if(!this.options.timer){return false}else{this.timerRunning=false;clearInterval(this.clock);this.$pause.addClass("active")}},setupTimer:function(){this.$timer=a(this.timerHTML);this.$wrapper.append(this.$timer);this.$rotator=this.$timer.find(".rotator");this.$mask=this.$timer.find(".mask");this.$pause=this.$timer.find(".pause");this.$timer.click(this.clickTimer);if(this.options.startClockOnMouseOut){this.$wrapper.mouseleave(this.startTimerAfterMouseLeave);this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer)}if(this.options.pauseOnHover){this.$wrapper.mouseenter(this.stopClock)}},startTimerAfterMouseLeave:function(){var a=this;this.outTimer=setTimeout(function(){if(!a.timerRunning){a.startClock()}},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer)},clickTimer:function(){if(!this.timerRunning){this.startClock()}else{this.stopClock()}},setupCaptions:function(){this.$caption=a(this.captionHTML);$tcap=a(this.captionHTML);this.$wrapper.append(this.$caption);$setfalse=this.setCaption(false);this.setCaption($tcap)},setCaption:function(b){var c=this.currentSlide().attr("data-caption"),d;if(!this.options.captions){return false}if(c){d=a(c).html();this.$caption.attr("id",c).html(d);captionClass=a(c).attr("class");this.$caption.attr("class",captionClass);if(this.options.captionHover){$cap=this.$caption;$speed=this.options.captionAnimationSpeed;this.$wrapper.find(".orbit").parent().hover(function(){jQuery($cap).fadeIn($speed)},function(){jQuery($cap).fadeOut($speed)});return}switch(this.options.captionAnimation){case"none":this.$caption.show();break;case"fade":this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideDown(this.options.captionAnimationSpeed);break}}else{switch(this.options.captionAnimation){case"none":this.$caption.hide();break;case"fade":this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case"slideOpen":this.$caption.slideUp(this.options.captionAnimationSpeed);break}}},setupDirectionalNav:function(){var a=this;this.$wrapper.append(this.directionalNavHTML);this.$wrapper.find(".left").css("opacity","0.3");this.$wrapper.find(".left").hover(function(){jQuery(".slider-nav .left").fadeTo("fast",.75)},function(){jQuery(".slider-nav .left").fadeTo("fast",.3)});this.$wrapper.find(".right").css("opacity","0.3");this.$wrapper.find(".right").hover(function(){jQuery(".slider-nav .right").fadeTo("fast",.75)},function(){jQuery(".slider-nav .right").fadeTo("fast",.3)});this.$wrapper.find(".left").click(function(){a.stopClock();a.shift("prev")});this.$wrapper.find(".right").click(function(){a.stopClock();a.shift("next")})},setupDirectionalThumb:function(b){var c=this;var d=b*3;this.$wrapper.append(this.directionalThumbHTML);this.$wrapper.find("#slideleft").click(function(){a(".thumbholder").animate({scrollLeft:"-="+d},"slow")});this.$wrapper.find("#slideright").click(function(){a(".thumbholder").animate({scrollLeft:"+="+d},"slow")})},setupBulletNav:function(){if(this.options.bulletThumbs){this.$bullets=a(this.thumbHTML);this.$thumbwidth=this.$slides.length*this.options.thumbWidth;this.$bullets.css("width",this.$thumbwidth);this.$wrapper.append(this.$bullets);this.$bullets.wrap(this.wrapThumbHTML)}else{this.$bullets=a(this.bulletHTML);this.$wrapper.append(this.$bullets)}this.$slides.each(this.addBullet);if(this.options.centerBullets&&this.options.bulletThumbs==false){$bwidth=this.$bullets.width();this.$bullets.css("margin-left",-$bwidth/2);this.$bullets.css("margin-right",$bwidth/2)}},addBullet:function(b,c){var d=a("<li></li>"),e,f=this;if(this.options.bulletThumbs){e=a(c).attr("data-thumb");if(e){d.append("<img class='orbit-thumb' src=\""+this.options.bulletThumbLocation+e+'" />')}}this.$bullets.append(d);d.data("index",b);d.click(function(){f.stopClock();f.shift(d.data("index"))})},setActiveBullet:function(){if(!this.options.bullets){return false}else{this.$bullets.find("li").removeClass("active").eq(this.activeSlide).addClass("active")}},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1});this.unlock();this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide))},shift:function(a){var b=a;this.prevActiveSlide=this.activeSlide;if(this.prevActiveSlide==b){return false}if(this.$slides.length=="1"){return false}if(!this.locked){this.lock();if(a=="next"){this.activeSlide++;if(this.activeSlide==this.numberSlides){this.activeSlide=0}}else if(a=="prev"){this.activeSlide--;if(this.activeSlide<0){this.activeSlide=this.numberSlides-1}}else{this.activeSlide=a;if(this.prevActiveSlide<this.activeSlide){b="next"}else if(this.prevActiveSlide>this.activeSlide){b="prev"}}this.setActiveBullet();this.$slides.eq(this.prevActiveSlide).css({"z-index":2});if(this.options.animation=="fade"){this.$slides.eq(this.activeSlide).css({opacity:0,"z-index":3}).animate({opacity:1},this.options.animationSpeed,this.resetAndUnlock)}if(this.options.animation=="horizontal-slide"){if(b=="next"){this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)}if(b=="prev"){this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock)}}if(this.options.animation=="vertical-slide"){if(b=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock)}if(b=="next"){this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock)}}if(this.options.animation=="horizontal-push"){if(b=="next"){this.$slides.eq(this.activeSlide).css({left:this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({left:-this.orbitWidth},this.options.animationSpeed)}if(b=="prev"){this.$slides.eq(this.activeSlide).css({left:-this.orbitWidth,"z-index":3}).animate({left:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({left:this.orbitWidth},this.options.animationSpeed)}}if(this.options.animation=="vertical-push"){if(b=="next"){this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({top:this.orbitHeight},this.options.animationSpeed)}if(b=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({top:-this.orbitHeight},this.options.animationSpeed)}}this.setCaption()}}};a.fn.orbit=function(c){return this.each(function(){var d=a.extend({},b);d.init(this,c)})}})(jQuery);(function(a){function c(b,c){var d=a(b);d.bind("load.imageready",function(){c.apply(b,arguments);d.unbind("load.imageready")})}var b={};a.event.special.imageready={setup:function(a,c,d){b=a||b},add:function(d){var e=a(this),f;if(this.nodeType===1&&this.tagName.toLowerCase()==="img"&&this.src!==""){if(b.forceLoad){f=e.attr("src");e.attr("src","");c(this,d.handler);e.attr("src",f)}else if(this.complete||this.readyState===4){d.handler.apply(this,arguments)}else{c(this,d.handler)}}},teardown:function(b){a(this).unbind(".imageready")}}})(jQuery)